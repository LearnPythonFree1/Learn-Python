<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Function Scope - Python Functions</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #2c3e50;
            --accent-color: #e74c3c;
            --background-color: #f5f6fa;
            --text-color: #2c3e50;
            --card-background: #ffffff;
            --border-radius: 10px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .lesson-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        .lesson-header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .lesson-header h1 {
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .lesson-description {
            color: var(--secondary-color);
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .lesson-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1.5rem;
            color: var(--secondary-color);
        }

        .lesson-stats span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .concept-container {
            background: var(--card-background);
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--box-shadow);
            display: none;
        }

        .concept-container.active {
            display: block;
        }

        .concept h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .definition {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
        }

        .definition h4 {
            color: var(--secondary-color);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .explanation {
            background: #f0f7ff;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
        }

        .explanation h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .code-example {
            background: #2d2d2d;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            position: relative;
        }

        .code-example pre {
            color: #fff;
            font-family: 'Consolas', monospace;
            overflow-x: auto;
        }

        .copy-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .copy-btn:hover {
            background-color: #357abd;
        }

        .concept-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .concept-nav-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: background-color 0.3s;
        }

        .concept-nav-btn:hover {
            background-color: #357abd;
        }

        .concept-nav-btn:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            .lesson-container {
                padding: 1rem;
            }

            .lesson-header {
                padding: 1.5rem;
            }

            .lesson-header h1 {
                font-size: 2rem;
            }

            .lesson-stats {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="lesson-container">
        <div class="lesson-header">
            <h1>Function Scope</h1>
            <p class="lesson-description">Master the concept of variable scope in Python functions and understand how variables are accessed and modified within different scopes.</p>
            <div class="lesson-stats">
                <span><i class="fas fa-clock"></i> 45 minutes</span>
                <span><i class="fas fa-signal"></i> Intermediate</span>
                <span><i class="fas fa-book"></i> Functions</span>
            </div>
        </div>

        <!-- Concept 1: Local Scope -->
        <div class="concept-container active" data-concept="1">
            <h2>Local Scope</h2>
            <div class="concept">
                <h3>Understanding Local Variables</h3>
                <div class="definition">
                    <h4><i class="fas fa-book"></i> Definition</h4>
                    <p>Local scope refers to variables defined inside a function that are only accessible within that function.</p>
                </div>
                <div class="explanation">
                    <h4><i class="fas fa-lightbulb"></i> Explanation</h4>
                    <p>Variables created inside a function are local to that function and cannot be accessed from outside. They are created when the function is called and destroyed when the function returns.</p>
                </div>
                <div class="code-example">
                    <pre><code>def calculate_square(number):
    result = number ** 2  # Local variable
    return result

# This works
print(calculate_square(5))  # Output: 25

# This would raise an error
# print(result)  # NameError: name 'result' is not defined</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Concept 2: Global Scope -->
        <div class="concept-container" data-concept="2">
            <h2>Global Scope</h2>
            <div class="concept">
                <h3>Working with Global Variables</h3>
                <div class="definition">
                    <h4><i class="fas fa-book"></i> Definition</h4>
                    <p>Global scope refers to variables defined at the module level that are accessible throughout the entire program.</p>
                </div>
                <div class="explanation">
                    <h4><i class="fas fa-lightbulb"></i> Explanation</h4>
                    <p>Global variables are accessible from any function in the module. However, to modify a global variable inside a function, you need to use the global keyword.</p>
                </div>
                <div class="code-example">
                    <pre><code>counter = 0  # Global variable

def increment_counter():
    global counter  # Declare we're using the global variable
    counter += 1
    return counter

def get_counter():
    return counter  # Can read global without declaration

print(increment_counter())  # Output: 1
print(get_counter())       # Output: 1</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Concept 3: Enclosing Scope -->
        <div class="concept-container" data-concept="3">
            <h2>Enclosing Scope</h2>
            <div class="concept">
                <h3>Understanding Nested Functions</h3>
                <div class="definition">
                    <h4><i class="fas fa-book"></i> Definition</h4>
                    <p>Enclosing scope refers to variables defined in outer functions that are accessible to inner functions.</p>
                </div>
                <div class="explanation">
                    <h4><i class="fas fa-lightbulb"></i> Explanation</h4>
                    <p>In nested functions, inner functions can access variables from their enclosing scope. To modify these variables, you need to use the nonlocal keyword.</p>
                </div>
                <div class="code-example">
                    <pre><code>def outer_function():
    message = "Hello"  # Enclosing scope variable
    
    def inner_function():
        nonlocal message  # Declare we're using the enclosing variable
        message = "Hi"
        return message
    
    print(message)  # Output: Hello
    inner_function()
    print(message)  # Output: Hi

outer_function()</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Concept 4: Built-in Scope -->
        <div class="concept-container" data-concept="4">
            <h2>Built-in Scope</h2>
            <div class="concept">
                <h3>Python's Built-in Names</h3>
                <div class="definition">
                    <h4><i class="fas fa-book"></i> Definition</h4>
                    <p>Built-in scope contains Python's pre-defined names like print(), len(), and other built-in functions and types.</p>
                </div>
                <div class="explanation">
                    <h4><i class="fas fa-lightbulb"></i> Explanation</h4>
                    <p>Built-in names are always available and don't need to be imported. They can be overridden in other scopes, but it's generally not recommended.</p>
                </div>
                <div class="code-example">
                    <pre><code># Built-in names are always available
print(len([1, 2, 3]))  # Output: 3

# Can override built-in names (not recommended)
len = 5
print(len)  # Output: 5

# Restore built-in name
del len
print(len([1, 2, 3]))  # Output: 3</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Concept 5: Scope Resolution -->
        <div class="concept-container" data-concept="5">
            <h2>Scope Resolution</h2>
            <div class="concept">
                <h3>LEGB Rule</h3>
                <div class="definition">
                    <h4><i class="fas fa-book"></i> Definition</h4>
                    <p>The LEGB rule determines the order in which Python looks for variables: Local, Enclosing, Global, and Built-in scopes.</p>
                </div>
                <div class="explanation">
                    <h4><i class="fas fa-lightbulb"></i> Explanation</h4>
                    <p>Python follows the LEGB rule when resolving variable names. It first checks the local scope, then enclosing scope, then global scope, and finally the built-in scope.</p>
                </div>
                <div class="code-example">
                    <pre><code>x = "global"

def outer():
    x = "enclosing"
    
    def inner():
        x = "local"
        print(f"Inner x: {x}")  # Output: Inner x: local
    
    inner()
    print(f"Outer x: {x}")  # Output: Outer x: enclosing

outer()
print(f"Global x: {x}")  # Output: Global x: global</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Concept 6: Scope and Closures -->
        <div class="concept-container" data-concept="6">
            <h2>Scope and Closures</h2>
            <div class="concept">
                <h3>Creating Closures</h3>
                <div class="definition">
                    <h4><i class="fas fa-book"></i> Definition</h4>
                    <p>A closure is a function that remembers and can access variables from its enclosing scope, even after the outer function has finished executing.</p>
                </div>
                <div class="explanation">
                    <h4><i class="fas fa-lightbulb"></i> Explanation</h4>
                    <p>Closures are created when a nested function references a variable from its enclosing scope. The inner function maintains access to these variables even after the outer function returns.</p>
                </div>
                <div class="code-example">
                    <pre><code>def create_counter():
    count = 0
    
    def counter():
        nonlocal count
        count += 1
        return count
    
    return counter

# Create two independent counters
counter1 = create_counter()
counter2 = create_counter()

print(counter1())  # Output: 1
print(counter1())  # Output: 2
print(counter2())  # Output: 1</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Concept 7: Scope and Decorators -->
        <div class="concept-container" data-concept="7">
            <h2>Scope and Decorators</h2>
            <div class="concept">
                <h3>Variable Scope in Decorators</h3>
                <div class="definition">
                    <h4><i class="fas fa-book"></i> Definition</h4>
                    <p>Decorators use nested functions and closures to modify or enhance the behavior of other functions.</p>
                </div>
                <div class="explanation">
                    <h4><i class="fas fa-lightbulb"></i> Explanation</h4>
                    <p>Decorators often use closures to maintain state or access variables from their enclosing scope. This allows them to modify function behavior while preserving access to the original function's scope.</p>
                </div>
                <div class="code-example">
                    <pre><code>def count_calls(func):
    calls = 0  # Enclosing scope variable
    
    def wrapper(*args, **kwargs):
        nonlocal calls
        calls += 1
        print(f"Function {func.__name__} called {calls} times")
        return func(*args, **kwargs)
    
    return wrapper

@count_calls
def greet(name):
    return f"Hello, {name}!"

print(greet("Alice"))  # Output: Function greet called 1 times
print(greet("Bob"))    # Output: Function greet called 2 times</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Concept 8: Scope and Classes -->
        <div class="concept-container" data-concept="8">
            <h2>Scope and Classes</h2>
            <div class="concept">
                <h3>Variable Scope in Classes</h3>
                <div class="definition">
                    <h4><i class="fas fa-book"></i> Definition</h4>
                    <p>Classes have their own scope for class variables, while instance methods have access to both class and instance variables.</p>
                </div>
                <div class="explanation">
                    <h4><i class="fas fa-lightbulb"></i> Explanation</h4>
                    <p>Class variables are shared among all instances, while instance variables are unique to each instance. Methods can access both through self and the class name.</p>
                </div>
                <div class="code-example">
                    <pre><code>class Counter:
    total_count = 0  # Class variable
    
    def __init__(self):
        self.count = 0  # Instance variable
    
    def increment(self):
        self.count += 1
        Counter.total_count += 1
        return self.count

counter1 = Counter()
counter2 = Counter()

print(counter1.increment())  # Output: 1
print(counter2.increment())  # Output: 1
print(Counter.total_count)   # Output: 2</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Concept 9: Scope and Modules -->
        <div class="concept-container" data-concept="9">
            <h2>Scope and Modules</h2>
            <div class="concept">
                <h3>Module-Level Scope</h3>
                <div class="definition">
                    <h4><i class="fas fa-book"></i> Definition</h4>
                    <p>Modules have their own global scope, and variables defined at the module level are accessible to all functions within that module.</p>
                </div>
                <div class="explanation">
                    <h4><i class="fas fa-lightbulb"></i> Explanation</h4>
                    <p>Module-level variables act as global variables within the module. They can be imported and accessed by other modules, but modifications should be done carefully.</p>
                </div>
                <div class="code-example">
                    <pre><code># config.py
DEBUG = True
API_KEY = "secret"

def get_config():
    return {
        "debug": DEBUG,
        "api_key": API_KEY
    }

# main.py
from config import DEBUG, get_config

def process_data():
    if DEBUG:
        print("Debug mode enabled")
    config = get_config()
    return config</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Concept 10: Scope Best Practices -->
        <div class="concept-container" data-concept="10">
            <h2>Scope Best Practices</h2>
            <div class="concept">
                <h3>Guidelines for Variable Scope</h3>
                <div class="definition">
                    <h4><i class="fas fa-book"></i> Definition</h4>
                    <p>Best practices for managing variable scope in Python programs.</p>
                </div>
                <div class="explanation">
                    <h4><i class="fas fa-lightbulb"></i> Explanation</h4>
                    <p>Following scope best practices helps create more maintainable and predictable code. This includes minimizing global variables, using appropriate scope levels, and being explicit about variable declarations.</p>
                </div>
                <div class="code-example">
                    <pre><code># Good practice: Use function parameters and return values
def calculate_total(items, tax_rate):
    subtotal = sum(items)
    tax = subtotal * tax_rate
    return subtotal + tax

# Good practice: Use class attributes instead of globals
class Configuration:
    def __init__(self):
        self.debug = False
        self.api_key = None
    
    def update_config(self, debug, api_key):
        self.debug = debug
        self.api_key = api_key

# Good practice: Use context managers for resource management
def process_file(filename):
    with open(filename, 'r') as file:
        return file.read()</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
            </div>
        </div>

        <div class="concept-navigation">
            <button class="concept-nav-btn" id="prev-concept" disabled>
                <i class="fas fa-arrow-left"></i> Previous Concept
            </button>
            <span id="concept-counter">Concept 1 of 10</span>
            <button class="concept-nav-btn" id="next-concept">
                Next Concept <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>

    <script>
        // Copy code functionality
        function copyCode(button) {
            const codeBlock = button.previousElementSibling;
            const code = codeBlock.textContent;
            
            navigator.clipboard.writeText(code).then(() => {
                button.textContent = 'Copied!';
                setTimeout(() => {
                    button.textContent = 'Copy';
                }, 2000);
            });
        }

        // Concept navigation
        let currentConcept = 0;
        const concepts = document.querySelectorAll('.concept-container');
        
        function showConcept(index) {
            concepts.forEach(concept => concept.classList.remove('active'));
            concepts[index].classList.add('active');
            updateNavigation();
        }

        function updateNavigation() {
            document.getElementById('concept-counter').textContent = 
                `Concept ${currentConcept + 1} of ${concepts.length}`;
            document.getElementById('prev-concept').disabled = currentConcept === 0;
            document.getElementById('next-concept').disabled = 
                currentConcept === concepts.length - 1;
        }

        document.getElementById('prev-concept').addEventListener('click', () => {
            if (currentConcept > 0) {
                currentConcept--;
                showConcept(currentConcept);
            }
        });

        document.getElementById('next-concept').addEventListener('click', () => {
            if (currentConcept < concepts.length - 1) {
                currentConcept++;
                showConcept(currentConcept);
            }
        });

        // Initialize first concept
        showConcept(0);
    </script>
</body>
</html